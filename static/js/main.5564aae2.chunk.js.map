{"version":3,"sources":["components/Nav/Navigation.js","components/UI/Card.js","store/store.js","components/Products/ProductItem.js","containers/Products.js","components/Favorites/FavoriteItem.js","containers/Favorites.js","App.js","store/products-store.js","index.js"],"names":["Navigation","props","react_default","a","createElement","className","react_router_dom","to","exact","Card","style","children","globalState","listeners","actions","useStore","shouldListen","arguments","length","undefined","setState","useState","useEffect","push","filter","li","actionIdentifier","payload","newState","Object","objectSpread2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","listener","value","err","return","ProductItem","dispatch","components_UI_Card","marginBottom","isFav","title","description","onClick","id","Products","state","products","map","prod","components_Products_ProductItem","key","isFavorite","FavoriteItem","Favorites","favoriteProducts","p","content","components_Favorites_FavoriteItem","App","Fragment","components_Nav_Navigation","react_router","path","component","ProductsPage","FavoritesPage","userActions","initialState","TOGGLE_FAV","currentState","productId","prodIndex","findIndex","newFavStatus","updatedProducts","toConsumableArray","configureProductsStore","ReactDOM","render","basename","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5564aae2.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './Navigation.css';\n\nconst Navigation = props => {\n  return (\n    <header className=\"main-header\">\n      <nav>\n        <ul>\n          <li>\n            <NavLink to=\"/\" exact>All Products</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/favorites\">Favorites</NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return <div className=\"card\" style={props.style}>{props.children}</div>;\n};\n\nexport default Card;\n","import { useState, useEffect } from 'react';\r\n\r\nlet globalState = {};\r\nlet listeners = [];\r\nlet actions = {};\r\n\r\nexport const useStore = (shouldListen = true) => {\r\n    const setState = useState(globalState)[1];\r\n\r\n    const dispatch = (actionIdentifier, payload) => {\r\n        const newState = actions[actionIdentifier](globalState, payload);\r\n        globalState = {...globalState, ...newState};\r\n\r\n        for (const listener of listeners) {\r\n            listener(globalState);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (shouldListen) {\r\n            listeners.push(setState);\r\n        }\r\n\r\n        return () => {\r\n            if (shouldListen) {\r\n                listeners = listeners.filter(li => li !== setState);\r\n            }\r\n        }\r\n    }, [setState, shouldListen]);\r\n\r\n    return [globalState, dispatch];\r\n};\r\n\r\nexport const initStore = (userActions, initialState) => {\r\n    if (initialState) {\r\n        globalState = {...globalState, ...initialState};\r\n    }\r\n    actions = {...actions, ...userActions};\r\n};","import React from \"react\";\n\nimport Card from \"../UI/Card\";\nimport { useStore } from '../../store/store';\nimport \"./ProductItem.css\";\n\nconst ProductItem = (props) => {\n\n    const dispatch = useStore(false)[1];\n\n    const toggleFavHandler = () => {\n        dispatch('TOGGLE_FAV', props.id);\n    };\n\n    return (\n        <Card style={{ marginBottom: \"1rem\" }}>\n            <div className=\"product-item\">\n                <h2 className={props.isFav ? \"is-fav\" : \"\"}>{props.title}</h2>\n                <p>{props.description}</p>\n                <button className={!props.isFav ? \"button-outline\" : \"\"} onClick={toggleFavHandler}>\n                    {props.isFav ? \"Un-Favorite\" : \"Favorite\"}\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default ProductItem;\n","import React from 'react';\n\nimport ProductItem from '../components/Products/ProductItem';\nimport { useStore } from '../store/store';\nimport './Products.css';\n\nconst Products = props => {\n  const state = useStore()[0];\n  return (\n    <ul className=\"products-list\">\n      {state.products.map(prod => (\n        <ProductItem\n          key={prod.id}\n          id={prod.id}\n          title={prod.title}\n          description={prod.description}\n          isFav={prod.isFavorite}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Products;\n","import React from 'react';\n\nimport Card from '../UI/Card';\nimport './FavoriteItem.css';\n\nconst FavoriteItem = props => {\n  return (\n    <Card style={{ marginBottom: '1rem' }}>\n      <div className=\"favorite-item\">\n        <h2>{props.title}</h2>\n        <p>{props.description}</p>\n      </div>\n    </Card>\n  );\n};\n\nexport default FavoriteItem;\n","import React from \"react\";\n\nimport FavoriteItem from \"../components/Favorites/FavoriteItem\";\nimport { useStore } from \"../store/store\";\nimport \"./Products.css\";\n\nconst Favorites = (props) => {\n    const state = useStore()[0];\n    const favoriteProducts = state.products.filter(p => p.isFavorite);\n\n    let content = <p className=\"placeholder\">Got no favorites yet!</p>;\n    if (favoriteProducts.length > 0) {\n        content = (\n            <ul className=\"products-list\">\n                {favoriteProducts.map((prod) => (\n                    <FavoriteItem\n                        key={prod.id}\n                        id={prod.id}\n                        title={prod.title}\n                        description={prod.description}\n                    />\n                ))}\n            </ul>\n        );\n    }\n    return content;\n};\n\nexport default Favorites;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Navigation from './components/Nav/Navigation';\nimport ProductsPage from './containers/Products';\nimport FavoritesPage from './containers/Favorites';\n\nconst App = props => {\n  return (\n    <React.Fragment>\n      <Navigation />\n      <main>\n        <Route path=\"/\" component={ProductsPage} exact />\n        <Route path=\"/favorites\" component={FavoritesPage} />\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import { initStore } from './store';\r\n\r\nconst configureStore = () => {\r\n    const actions = {\r\n        TOGGLE_FAV: (currentState, productId) => {\r\n            const prodIndex = currentState.products.findIndex(\r\n                p => p.id === productId\r\n            );\r\n            const newFavStatus = !currentState.products[prodIndex].isFavorite;\r\n            const updatedProducts = [...currentState.products];\r\n            updatedProducts[prodIndex] = {\r\n                ...currentState.products[prodIndex],\r\n                isFavorite: newFavStatus\r\n            };\r\n            return { products: updatedProducts };\r\n        }\r\n    }\r\n    initStore(actions, {\r\n        products: [\r\n            {\r\n                id: 'p1',\r\n                title: 'Red Scarf',\r\n                description: 'A pretty red scarf.',\r\n                isFavorite: false\r\n            },\r\n            {\r\n                id: 'p2',\r\n                title: 'Blue T-Shirt',\r\n                description: 'A pretty blue t-shirt.',\r\n                isFavorite: false\r\n            },\r\n            {\r\n                id: 'p3',\r\n                title: 'Green Trousers',\r\n                description: 'A pair of lightly green trousers.',\r\n                isFavorite: false\r\n            },\r\n            {\r\n                id: 'p4',\r\n                title: 'Orange Hat',\r\n                description: 'Street style! An orange hat.',\r\n                isFavorite: false\r\n            }\r\n        ]\r\n    });\r\n};\r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport configureProductsStore from './store/products-store';\n\nconfigureProductsStore();\n\nReactDOM.render(\n    <BrowserRouter basename=\"/context_api_exercise\">\n      <App />\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}